<header class="site-header" data-header-root>
  <div class="header-shell">
    <a class="brand" [routerLink]="['/']" fragment="home" (click)="goToHome()">
      <img
        class="brand-logo"
        src="assets/header.png"
        alt="Om Sai Aqua Safari - Yacht & Cruise Rentals in Goa"
        width="140"
        height="44"
        fetchpriority="high"
      />
      <span class="sr-only">Om Sai Aqua Safari</span>
    </a>

    <!-- Desktop nav -->
    <nav class="nav-desktop" aria-label="Primary">
      <a
        *ngFor="let item of links"
        class="nav-link"
        [class.active]="isActive(item)"
        [routerLink]="item.kind === 'route' ? [item.path] : ['/']"
        [fragment]="item.kind === 'fragment' ? item.fragment : undefined"
        (click)="onNavClick()"
      >
        {{ item.label }}
      </a>
    </nav>

    <!-- Right side CTA -->
    <div class="actions">
      <a
        class="cta"
        [routerLink]="['/book-yacht']"
        (click)="onNavClick()"
        aria-label="Book a yacht in Goa"
      >
        Book Now
      </a>

      <!-- Mobile hamburger -->
      <button
        class="hamburger"
        type="button"
        (click)="toggleMenu()"
        [attr.aria-expanded]="isMenuOpen()"
        aria-controls="mobile-menu"
        aria-label="Toggle navigation"
      >
        <span class="bar" [class.open]="isMenuOpen()"></span>
        <span class="bar" [class.open]="isMenuOpen()"></span>
        <span class="bar" [class.open]="isMenuOpen()"></span>
      </button>
    </div>
  </div>

  <!-- Mobile drawer -->
  <div class="backdrop" [class.show]="isMenuOpen()" (click)="closeMenu()"></div>

  <nav
    id="mobile-menu"
    class="nav-mobile"
    aria-label="Mobile primary"
    [class.open]="isMenuOpen()"
  >
    <!-- <div class="mobile-top">
      <span class="mobile-title">Menu</span>
      <button class="icon-btn" type="button" (click)="closeMenu()" aria-label="Close menu">
        âœ•
      </button>
    </div> -->

    <a
      *ngFor="let item of links"
      class="mobile-link"
      [routerLink]="item.kind === 'route' ? [item.path] : ['/']"
      [fragment]="item.kind === 'fragment' ? item.fragment : undefined"
      (click)="onNavClick()"
    >
      {{ item.label }}
    </a>

    <div class="mobile-cta-wrap">
      <a class="cta full" [routerLink]="['/book-cruise']" (click)="onNavClick()">Book Cruise</a>
      <a class="ghost full" [routerLink]="['/book-yacht']" (click)="onNavClick()">Book Yacht</a>
    </div>
  </nav>
</header>
